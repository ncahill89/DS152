<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Sampling Principles and Strategies – Introduction to Data Science (2)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body>

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#research-questions" id="toc-research-questions" class="nav-link active" data-scroll-target="#research-questions">Research Question(s)</a>
  <ul class="collapse">
  <li><a href="#anecdotal-evidence" id="toc-anecdotal-evidence" class="nav-link" data-scroll-target="#anecdotal-evidence">Anecdotal Evidence</a></li>
  </ul></li>
  <li><a href="#sampling-from-the-population" id="toc-sampling-from-the-population" class="nav-link" data-scroll-target="#sampling-from-the-population">Sampling from the population</a></li>
  <li><a href="#sampling-procedures" id="toc-sampling-procedures" class="nav-link" data-scroll-target="#sampling-procedures">Sampling Procedures</a></li>
  <li><a href="#example-data-fakeschool" id="toc-example-data-fakeschool" class="nav-link" data-scroll-target="#example-data-fakeschool">Example Data: FakeSchool</a></li>
  <li><a href="#simple-random-sampling" id="toc-simple-random-sampling" class="nav-link" data-scroll-target="#simple-random-sampling">Simple Random Sampling</a>
  <ul class="collapse">
  <li><a href="#simple-random-sampling-in-r" id="toc-simple-random-sampling-in-r" class="nav-link" data-scroll-target="#simple-random-sampling-in-r">Simple Random Sampling in R</a></li>
  <li><a href="#srs-strength-vs-weaknesses" id="toc-srs-strength-vs-weaknesses" class="nav-link" data-scroll-target="#srs-strength-vs-weaknesses">SRS Strength vs Weaknesses</a></li>
  </ul></li>
  <li><a href="#systematic-sampling" id="toc-systematic-sampling" class="nav-link" data-scroll-target="#systematic-sampling">Systematic Sampling</a>
  <ul class="collapse">
  <li><a href="#systematic-sampling-in-r" id="toc-systematic-sampling-in-r" class="nav-link" data-scroll-target="#systematic-sampling-in-r">Systematic Sampling in R</a></li>
  <li><a href="#strength-vs-weaknesses" id="toc-strength-vs-weaknesses" class="nav-link" data-scroll-target="#strength-vs-weaknesses">Strength vs Weaknesses</a></li>
  <li><a href="#noticing-patterns-in-data" id="toc-noticing-patterns-in-data" class="nav-link" data-scroll-target="#noticing-patterns-in-data">Noticing patterns in data</a></li>
  </ul></li>
  <li><a href="#stratified-sampling" id="toc-stratified-sampling" class="nav-link" data-scroll-target="#stratified-sampling">Stratified Sampling</a>
  <ul class="collapse">
  <li><a href="#stratified-sampling-in-r" id="toc-stratified-sampling-in-r" class="nav-link" data-scroll-target="#stratified-sampling-in-r">Stratified Sampling in R</a></li>
  <li><a href="#strength-vs-weaknesses-1" id="toc-strength-vs-weaknesses-1" class="nav-link" data-scroll-target="#strength-vs-weaknesses-1">Strength vs Weaknesses</a></li>
  </ul></li>
  <li><a href="#cluster-sampling" id="toc-cluster-sampling" class="nav-link" data-scroll-target="#cluster-sampling">Cluster Sampling</a>
  <ul class="collapse">
  <li><a href="#cluster-sampling-in-r" id="toc-cluster-sampling-in-r" class="nav-link" data-scroll-target="#cluster-sampling-in-r">Cluster Sampling in R</a></li>
  <li><a href="#strength-vs-weaknesses-2" id="toc-strength-vs-weaknesses-2" class="nav-link" data-scroll-target="#strength-vs-weaknesses-2">Strength vs Weaknesses</a></li>
  </ul></li>
  <li><a href="#non-random-sampling" id="toc-non-random-sampling" class="nav-link" data-scroll-target="#non-random-sampling">Non random sampling</a>
  <ul class="collapse">
  <li><a href="#expert-elicitation" id="toc-expert-elicitation" class="nav-link" data-scroll-target="#expert-elicitation">Expert Elicitation</a></li>
  <li><a href="#snowball-sampling" id="toc-snowball-sampling" class="nav-link" data-scroll-target="#snowball-sampling">Snowball Sampling</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Sampling Principles and Strategies</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>The first step in conducting research is to identify topics or questions that are to be investigated. A clearly laid out research question is helpful in identifying what subjects or cases should be studied and what variables are important. It is also important to consider how data are collected so that the data are reliable and help achieve the research goals.</p>
<section id="research-questions" class="level2">
<h2 class="anchored" data-anchor-id="research-questions">Research Question(s)</h2>
<p><strong>Research Question:</strong> Over the last 5 years, how many MU Data Science or Statistics graduates have gone on to get a job in a field directly related to their degree.</p>
<p><strong>Population:</strong> All DS or Statistics graduates from MU from the last 5 years.</p>
<p><strong>Q.</strong> Can we survey the entire population?</p>
<p><strong>A.</strong> This would likely be very difficult. It is more realistic to assume that we can work with a fraction of the population.</p>
<p><strong>Q.</strong> How can we ensure the sample is an accurate reflection of the population?</p>
<p><strong>A.</strong> Appropriate sampling.</p>
<p>Once we have an appropriate sample, most research questions actually break down into 2 parts:</p>
<ul>
<li><p>Descriptive Statistics: What relationship can we observe between the variables in the sample?</p></li>
<li><p>Inferential Statistics: Supposing we see a relationship in the sample data, how much evidence is provided for a relationship in the population? Does the data provide lots of evidence for a relationship in the population, or could the relationship we see in the sample be due just to chance variation in the sampling process that gave us the data?</p></li>
</ul>
<section id="anecdotal-evidence" class="level3">
<h3 class="anchored" data-anchor-id="anecdotal-evidence">Anecdotal Evidence</h3>
<p>“I met two students who did a Data Science degree in Maynooth but they are not working as data scientists. The degree must not get you a Data Science job.”</p>
<p>There are two problems here. First, the data only represent two cases. Second, and more importantly, it is unclear whether these cases are actually representative of the population. Data collected in this haphazard fashion only provides <strong>anecdotal evidence</strong>.</p>
</section>
</section>
<section id="sampling-from-the-population" class="level2">
<h2 class="anchored" data-anchor-id="sampling-from-the-population">Sampling from the population</h2>
<p>A <strong>population</strong> is the set of subjects of interest.</p>
<p>A <strong>sample</strong> is the subset of the population for which we have data.</p>
<p>Suppose that we were able to choose an appropriate sample that provides an accurate representation of the DS and Statistics Graduates:</p>
<p><a href="https://openintro-ims.netlify.app/data-design"><img src="images/fig-pop-to-sample-1.png" class="img-fluid"></a></p>
<p>Now we have two different summaries to consider for our research question:</p>
<p><strong>Proportion of the <em>sample</em> that went into a directly related field</strong></p>
<ul>
<li><p>Statistic - describes the sample</p></li>
<li><p>Can be known, but it changes depending on the sample</p></li>
<li><p>Symbol - <span class="math inline">\(\hat{p}\)</span></p></li>
</ul>
<p><strong>Proportion of the <em>population</em> that went into a directly related field</strong></p>
<ul>
<li><p>Parameter - describes the population</p></li>
<li><p>Usually unknown - but we wish we knew it!</p></li>
<li><p>Symbol - <span class="math inline">\(\pi\)</span></p>
<p><img src="images/Screenshot 2025-02-12 at 11.28.08.png" class="img-fluid"></p></li>
</ul>
<!-- -->
<ul>
<li><p>Our goal is to use the information we’ve gathered from the sample to infer, or predict, something about the population.</p></li>
<li><p>For our example, we want to predict the population proportion, using our knowledge of the sample.</p></li>
<li><p>The accuracy of our sample proportion relies heavily upon how well our sample represents the population at large.</p></li>
<li><p>If our sample does a poor job at representing the population, then any inferences that we make about the population are also going to be poor.</p></li>
</ul>
<!-- ![](images/precbias-01.png) -->
<!-- ## Types of Samples -->
<!-- There are 2 main kinds of sampling: -->
<!--   - Random Sampling -->
<!--   - Non-Random Sampling -->
<!-- There are advantages and disadvantages of both. -->
</section>
<section id="sampling-procedures" class="level2">
<h2 class="anchored" data-anchor-id="sampling-procedures">Sampling Procedures</h2>
<p>Almost all statistical methods are based on the notion of implied randomness. If data are not collected in a random framework from a population, these statistical methods, and the estimates and errors associated with the estimates, are not reliable.</p>
<p>There are four different methods of random sampling that we will introduce:</p>
<ul>
<li><p><strong>Simple Random Sampling (SRS):</strong> The population is sampled completely at random.</p></li>
<li><p><strong>Systematic Sampling:</strong> The population is sampled in a systematic way at regular or fixed intervals.</p></li>
<li><p><strong>Stratified Sampling:</strong> Divides the population into distinct groups called strata, based on shared characteristics (e.g., age, income level) and samples from the strata.</p></li>
<li><p><strong>Cluster Sampling:</strong> Divides the population in naturally occurring groups called clusters (e.g., schools, neighbourhoods) and samples the clusters.</p></li>
</ul>
<p><img src="images/samplingpics-01.png" class="img-fluid"></p>
</section>
<section id="example-data-fakeschool" class="level2">
<h2 class="anchored" data-anchor-id="example-data-fakeschool">Example Data: FakeSchool</h2>
<ul>
<li><p>We will use the FakeSchool data to compare the sampling methods.</p></li>
<li><p>The dataset contains information on 28 students from FakeSchool. We will assume that this is the population from which we will sample.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tigerstats)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"FakeSchool"</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>FakeSchool <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(FakeSchool)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here is a snippet of the data:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 5
  Students Sex   class   GPA Honors
  &lt;fct&gt;    &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt; &lt;fct&gt; 
1 Alice    F     Fr     3.8  Yes   
2 Brad     M     Fr     2.6  Yes   
3 Caleb    M     Fr     2.25 No    
4 Daisy    F     Fr     2.1  No    </code></pre>
</div>
</div>
<ul>
<li><p>Let’s say that we are interested in mean GPA</p></li>
<li><p>We can compute the true mean GPA</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>FakeSchool <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(GPA) <span class="sc">%&gt;%</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.766429</code></pre>
</div>
</div>
<ul>
<li>Remember this value is not typically known!</li>
</ul>
</section>
<section id="simple-random-sampling" class="level2">
<h2 class="anchored" data-anchor-id="simple-random-sampling">Simple Random Sampling</h2>
<p>In <strong>simple random sampling (SRS)</strong>, for a given sample size, n, each member of the population has an equal chance of being selected.</p>
<p>Let’s select a simple random sample of 7, without replacement. We can accomplish this easily with the <code>dplyr</code> function <code>sample_n()</code> in R. This function requires two pieces of information:</p>
<ul>
<li><p>the <code>size</code> of the sample</p></li>
<li><p>the dataset from which to draw the sample</p></li>
</ul>
<section id="simple-random-sampling-in-r" class="level3">
<h3 class="anchored" data-anchor-id="simple-random-sampling-in-r">Simple Random Sampling in R</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="do">## create a simple random sample (n = 7)</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>srs <span class="ot">&lt;-</span> FakeSchool <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>          <span class="fu">sample_n</span>(<span class="dv">7</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>srs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 5
  Students Sex   class   GPA Honors
  &lt;fct&gt;    &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt; &lt;fct&gt; 
1 Daisy    F     Fr      2.1 No    
2 Bob      M     Sr      3.8 Yes   
3 Frank    M     Sr      2   No    
4 Garth    M     Jr      1.1 No    
5 Eliott   M     Jr      1.9 No    
6 Angela   F     Sr      4   Yes   
7 Chris    M     So      4   Yes   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="do">## calculate the mean of the srs</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>srs <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(GPA) <span class="sc">%&gt;%</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.7</code></pre>
</div>
</div>
</section>
<section id="srs-strength-vs-weaknesses" class="level3">
<h3 class="anchored" data-anchor-id="srs-strength-vs-weaknesses">SRS Strength vs Weaknesses</h3>
<p><strong>Strengths</strong></p>
<ul>
<li><p>The selection of one element does not affect the selection of others.</p></li>
<li><p>Each possible sample, of a given size, has an equal chance of being selected.</p></li>
<li><p>Simple random samples tend to be good representations of the population.</p></li>
<li><p>Requires little knowledge of the population.</p></li>
</ul>
<p><strong>Weaknesses</strong></p>
<ul>
<li><p>If there are small subgroups within the population, a SRS may not give an accurate representation of that subgroup. In fact, it may not include it at all! This is especially true if the sample size is small.</p></li>
<li><p>If the population is large and widely dispersed, it can be costly (both in time and money) to collect the data.</p></li>
</ul>
</section>
</section>
<section id="systematic-sampling" class="level2">
<h2 class="anchored" data-anchor-id="systematic-sampling">Systematic Sampling</h2>
<p>In a <strong>systematic sample</strong>, the sample members from a larger population are selected according to a random starting point but with a fixed, periodic interval, i.</p>
<p>These are the two main steps required to implement systematic sampling:</p>
<ul>
<li><p>Divide the size of the target population “N” by sample size “n” to calculate the sampling interval “i”. If this value is in decimals, it must be rounded to the nearest whole number/integer.</p></li>
<li><p>Then, a random starting point, “r”, may be chosen from where the sampling interval “i” is used in order to choose respondents from the target population.</p>
<ul>
<li>Before selecting the sample group, researchers must ensure that the list of the sample frame is not organized in a cyclical or periodic way in order to avoid selecting a biased sample group.</li>
</ul></li>
</ul>
<p>To illustrate the idea, let’s take a 1-in-4 systematic sample from our FakeSchool population.</p>
<section id="systematic-sampling-in-r" class="level3">
<h3 class="anchored" data-anchor-id="systematic-sampling-in-r">Systematic Sampling in R</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># randomly selecting our starting element.</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>start<span class="ot">=</span><span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,<span class="dv">1</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>start</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Now find every 4th row index starting with start</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>sample_rows <span class="ot">&lt;-</span> <span class="fu">seq</span>(start, <span class="fu">nrow</span>(FakeSchool), <span class="at">by =</span> <span class="dv">4</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>sample_rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  3  7 11 15 19 23 27</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Now choose the data corresponding to the row indexes</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>sys_samp <span class="ot">&lt;-</span> FakeSchool <span class="sc">%&gt;%</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">%in%</span> sample_rows)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># print the systematic sample</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>sys_samp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 5
  Students Sex   class   GPA Honors
  &lt;fct&gt;    &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt; &lt;fct&gt; 
1 Caleb    M     Fr     2.25 No    
2 Georg    M     Fr     1.4  No    
3 Dylan    M     So     3.5  Yes   
4 Adam     M     Jr     3.98 Yes   
5 Faith    F     Jr     2.5  Yes   
6 Bob      M     Sr     3.8  Yes   
7 Ed       M     Sr     1.5  No    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># find the mean GPA from the sys_samp</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>sys_samp <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(GPA) <span class="sc">%&gt;%</span> </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.704286</code></pre>
</div>
</div>
</section>
<section id="strength-vs-weaknesses" class="level3">
<h3 class="anchored" data-anchor-id="strength-vs-weaknesses">Strength vs Weaknesses</h3>
<p><strong>Strengths</strong></p>
<ul>
<li><p>Assures an even, random sampling of the population.</p></li>
<li><p>It is especially useful when the population that you are studying is arranged in time. For example, suppose you are interested in the average amount of money that people spend at the grocery store on a Wednesday evening. A systematic sample could be used by selecting every 10th person that walks into the store.</p></li>
</ul>
<p><strong>Weaknesses</strong></p>
<ul>
<li><p>Not every combination has an equal chance of being selected. Many combinations will never be selected using a systematic sample!</p></li>
<li><p>Beware of periodicity in the population! If, the selections match some pattern then the sample may not be representative of the population.</p></li>
</ul>
</section>
<section id="noticing-patterns-in-data" class="level3">
<h3 class="anchored" data-anchor-id="noticing-patterns-in-data">Noticing patterns in data</h3>
<ul>
<li><p>The FakeSchool data is ordered according to the student’s year in school (freshmen, sophomore, junior, senior) and then by GPA (highest - lowest)</p></li>
<li><p>Taking a systematic sample ensures that we have a person from each class represented in our sample.</p></li>
<li><p>But, what would happen if we took a systematic sample where k = 7 and the sample started at 1?</p></li>
</ul>
</section>
</section>
<section id="stratified-sampling" class="level2">
<h2 class="anchored" data-anchor-id="stratified-sampling">Stratified Sampling</h2>
<p>In a <strong>stratified sample</strong>, the population must first be separated into homogeneous groups, or strata. Each element only belongs to one stratum and the stratum consist of elements that are alike in some way. A simple random sample is then drawn from each stratum, which is combined to make the stratified sample.</p>
<p>Let’s take a stratified sample of 7 elements from FakeSchool using the following strata: Honors, Not Honors.</p>
<section id="stratified-sampling-in-r" class="level3">
<h3 class="anchored" data-anchor-id="stratified-sampling-in-r">Stratified Sampling in R</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># determine how many elements belong to each strata</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>FakeSchool <span class="sc">%&gt;%</span> </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Honors) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  Honors     n
  &lt;fct&gt;  &lt;int&gt;
1 No        16
2 Yes       12</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get the data for each strata</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># honors</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>hon_strata <span class="ot">&lt;-</span> FakeSchool <span class="sc">%&gt;%</span> </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>                <span class="fu">filter</span>(Honors <span class="sc">==</span> <span class="st">"Yes"</span>)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co"># not honors</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>nonhon_strata <span class="ot">&lt;-</span> FakeSchool <span class="sc">%&gt;%</span> </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>                <span class="fu">filter</span>(Honors <span class="sc">==</span> <span class="st">"No"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Try to divide the sampling evenly, the sample size is odd so use the bigger number for the larger strata</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>hon_samp <span class="ot">&lt;-</span> hon_strata <span class="sc">%&gt;%</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>              <span class="fu">sample_n</span>(<span class="dv">3</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>nonhon_samp <span class="ot">&lt;-</span> nonhon_strata <span class="sc">%&gt;%</span> </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>                <span class="fu">sample_n</span>(<span class="dv">4</span>)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>strat_samp <span class="ot">&lt;-</span> <span class="fu">full_join</span>(hon_samp, nonhon_samp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(Students, Sex, class, GPA, Honors)`</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># print the stratified sample</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>strat_samp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 5
  Students Sex   class   GPA Honors
  &lt;fct&gt;    &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt; &lt;fct&gt; 
1 Angela   F     Sr     4    Yes   
2 Adam     M     Jr     3.98 Yes   
3 Cassie   F     Jr     3.75 Yes   
4 Garth    M     Jr     1.1  No    
5 Brittany F     Jr     3.9  No    
6 Frank    M     Sr     2    No    
7 Eva      F     Fr     1.8  No    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get the mean GPA from the stratified sample</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>strat_samp <span class="sc">%&gt;%</span> </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(GPA) <span class="sc">%&gt;%</span> </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.932857</code></pre>
</div>
</div>
</section>
<section id="strength-vs-weaknesses-1" class="level3">
<h3 class="anchored" data-anchor-id="strength-vs-weaknesses-1">Strength vs Weaknesses</h3>
<p><strong>Strengths</strong></p>
<ul>
<li><p>Representative of the population, because elements from all strata are included in the sample.</p></li>
<li><p>Ensures that specific groups are represented, sometimes even proportionally, in the sample.</p></li>
<li><p>Allows comparisons to be made between strata, if necessary. For example, a stratified sample allows you to easily compare the mean GPA of Honors students to the mean GPA of non-Honors students.</p></li>
</ul>
<p><strong>Weaknesses</strong></p>
<ul>
<li>Requires prior knowledge of the population. You have to know something about the population to be able to split into strata!</li>
</ul>
</section>
</section>
<section id="cluster-sampling" class="level2">
<h2 class="anchored" data-anchor-id="cluster-sampling">Cluster Sampling</h2>
<p><strong>Cluster sampling</strong> is a sampling method used when natural groups are evident in the population. The clusters should all be to similar each other: each cluster should be a small scale representation of the population. To take a cluster sample, a random sample of the clusters is chosen. The elements of the randomly chosen clusters make up the sample.</p>
<p>Let’s assume that we have a cluster variable (with clusters 1-4) in the FakeSchool data.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 28 × 6
   Students Sex   class   GPA Honors cluster
   &lt;fct&gt;    &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt; &lt;fct&gt;    &lt;int&gt;
 1 Alice    F     Fr     3.8  Yes          1
 2 Brad     M     Fr     2.6  Yes          1
 3 Caleb    M     Fr     2.25 No           2
 4 Daisy    F     Fr     2.1  No           4
 5 Faye     F     Fr     2    No           2
 6 Eva      F     Fr     1.8  No           4
 7 Georg    M     Fr     1.4  No           2
 8 Andrea   F     So     4    Yes          2
 9 Betsy    F     So     4    Yes          1
10 Chris    M     So     4    Yes          1
# ℹ 18 more rows</code></pre>
</div>
</div>
<section id="cluster-sampling-in-r" class="level3">
<h3 class="anchored" data-anchor-id="cluster-sampling-in-r">Cluster Sampling in R</h3>
<p>Let’s take a random sample of 2 of two clusters.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>cluster_samp <span class="ot">&lt;-</span> FakeSchool <span class="sc">%&gt;%</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">group_nest</span>(cluster) <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">sample_n</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">unnest</span>(data)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="do">## what class groups were used </span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>cluster_samp<span class="sc">$</span>cluster <span class="sc">%&gt;%</span> <span class="fu">unique</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate the mean GPA from the cluster sample</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>cluster_samp <span class="sc">%&gt;%</span> </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(GPA) <span class="sc">%&gt;%</span> </span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.82</code></pre>
</div>
</div>
</section>
<section id="strength-vs-weaknesses-2" class="level3">
<h3 class="anchored" data-anchor-id="strength-vs-weaknesses-2">Strength vs Weaknesses</h3>
<p><strong>Strengths</strong></p>
<p>Makes it possible to sample if there is no list of the entire population, but there is a list of subpopulations. For example, there is not a list of all school members in the United States. However, there is a list of schools that you could sample and then acquire the members list from each of the selected schools.</p>
<p><strong>Weaknesses</strong></p>
<p>Not always representative of the population. Elements within clusters tend to be similar to one another based on some characteristic(s). This can lead to over-representation or under-representation of those characteristics in the sample.</p>
<hr>
</section>
</section>
<section id="non-random-sampling" class="level2">
<h2 class="anchored" data-anchor-id="non-random-sampling">Non random sampling</h2>
<section id="expert-elicitation" class="level3">
<h3 class="anchored" data-anchor-id="expert-elicitation">Expert Elicitation</h3>
<p>Expert elicitation is a form of non-random survey sampling where experts in a specific field are intentionally selected to provide insights or judgments on a topic.</p>
<ul>
<li><p>✅ Used when empirical data is scarce or uncertain (e.g., climate change risks).</p></li>
<li><p>❌ Relies on expert judgment, which can introduce biases based on individual perspectives.</p></li>
</ul>
<section id="example-estimating-global-mean-sea-level-rise-and-its-uncertainties-by-2100-and-2300-from-an-expert-survey" class="level4">
<h4 class="anchored" data-anchor-id="example-estimating-global-mean-sea-level-rise-and-its-uncertainties-by-2100-and-2300-from-an-expert-survey"><strong>Example: Estimating global mean sea-level rise and its uncertainties by 2100 and 2300 from an expert survey</strong></h4>
<ul>
<li><p>A survey selected experts who (co-)authored sea-level related papers (&gt;6).</p>
<ul>
<li><p>To objectively select sea-level experts, we used the scientific publication database Web of Science of Clarivate to identify the most active publishers of sea-level papers.</p></li>
<li><p>On 15 February 2019, we searched for all papers published in peer-reviewed journals since (and including) 2014 where the term “sea level” appeared in the title, keywords or “KeyWords Plus” (an algorithm used to review words or phrases that appear in the cited references of an article) to identify scientists who (co-)authored the greatest number of these papers.</p></li>
<li><p>We obtained a sample of 878 experts who published at least six papers on “sea level” since 2014.</p></li>
<li><p>We found e-mail addresses for 817 of these experts and accordingly invited them to participate in the survey on 18 March 2019, using a unique identifier to ensure anonymity and avoid duplicate responses.</p></li>
<li><p>A total of 458 experts opened the e-mail invitation, and of these 112 completed the survey, which is typical for this type of internet survey.</p></li>
<li><p>The main reason given for declining to participate was a (perceived) lack of expertise in projecting GMSL rise.</p></li>
<li><p>We closed the survey on 30 June 2019. We could not analyze six responses from participants because they either left all boxes blank or filled with a question mark. Not all survey respondents completed every percentile box.</p></li>
</ul></li>
</ul>
<p>Thus, a total of 106 sea-level experts from 817 invites (13%) provided their probabilistic assessment of GMSL rise, given two temperature projection scenarios.</p>
<p>The paper can be found <a href="https://www.nature.com/articles/s41612-020-0121-5">here</a>.</p>
</section>
<section id="analysis" class="level4">
<h4 class="anchored" data-anchor-id="analysis"><strong>Analysis</strong></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(expert_survey_dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 112
Columns: 23
$ name         &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17…
$ Expertise_A  &lt;fct&gt; 1) Statistical or physical process modeling, 1) Statistic…
$ Expertise    &lt;chr&gt; "Ice-sheet modeling, Glacial-isostatic adjustment modelin…
$ Blue_95_2100 &lt;dbl&gt; 80, 80, NA, 100, 126, 10, 75, 60, 55, 50, 60, NA, 55, 100…
$ Blue_83_2100 &lt;dbl&gt; NA, 68, 59, 90, 98, 8, 67, 50, 45, 40, 55, NA, NA, 60, 70…
$ Blue_50_2100 &lt;dbl&gt; 45, 50, 43, 70, 69, 5, 50, 40, 40, 30, 45, NA, 40, 50, 50…
$ Blue_17_2100 &lt;dbl&gt; NA, 41, 29, 40, 49, 3, 37, 30, 35, 20, 35, NA, NA, 40, 30…
$ Blue_5_2100  &lt;dbl&gt; 25, 35, NA, 21, 36, 1, 25, 20, 30, 10, 30, NA, 25, 30, 20…
$ Red_95_2100  &lt;dbl&gt; 210, 200, NA, 125, 238, 300, 150, 80, 150, 200, 190, NA, …
$ Red_83_2100  &lt;dbl&gt; NA, 160, 110, 110, 174, 200, 125, 70, 120, 120, 170, NA, …
$ Red_50_2100  &lt;dbl&gt; 100, 100, 84, 80, 111, 100, 100, 60, 80, 80, 110, NA, 70,…
$ Red_17_2100  &lt;dbl&gt; NA, 70, 61, 50, 79, 50, 75, 50, 50, 50, 100, NA, NA, 80, …
$ Red_5_2100   &lt;dbl&gt; 60, 50, NA, 40, 62, 30, 50, 40, 40, 30, 85, NA, 55, 60, 8…
$ Blue_95_2300 &lt;dbl&gt; NA, 250, NA, 130, 300, 20, 150, 60, 180, 120, 190, NA, 80…
$ Blue_83_2300 &lt;dbl&gt; NA, 180, 110, 90, 230, 10, 125, 50, 140, 100, 170, NA, NA…
$ Blue_50_2300 &lt;dbl&gt; NA, 100, 85, 70, 142, 5, 100, 40, 120, 80, 150, NA, 50, 1…
$ Blue_17_2300 &lt;dbl&gt; NA, 70, 60, 30, 83, 3, 75, 30, 100, 60, 135, NA, NA, 80, …
$ Blue_5_2300  &lt;dbl&gt; 25, 50, NA, 20, 50, 2, 50, 20, 80, 40, 100, NA, 30, 50, 3…
$ Red_95_2300  &lt;dbl&gt; NA, 1000, NA, 450, 700, 250, 250, 120, 700, 6, 750, NA, 1…
$ Red_83_2300  &lt;dbl&gt; NA, 800, 540, 400, 672, 200, 225, 100, 500, 4, 650, NA, N…
$ Red_50_2300  &lt;dbl&gt; NA, 500, 385, 290, 466, 100, 200, 80, 300, 3, 500, NA, 14…
$ Red_17_2300  &lt;dbl&gt; NA, 380, 230, 100, 336, 50, 150, 60, 150, 2, 475, NA, NA,…
$ Red_5_2300   &lt;dbl&gt; 140, 300, NA, 90, 220, 30, 125, 40, 100, 1, 400, NA, 55, …</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>expert_survey_dat_long <span class="ot">&lt;-</span> expert_survey_dat <span class="sc">%&gt;%</span> </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">pivot_longer</span>(Blue_95_2100<span class="sc">:</span>Red_5_2300,</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">names_to =</span> <span class="st">"scenario"</span>,</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">values_to =</span> <span class="st">"prediction"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(<span class="at">col =</span> scenario, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"Scenario"</span>,<span class="st">"Percentile"</span>,<span class="st">"Year"</span>)) </span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>expert_survey_dat_long <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Scenario <span class="sc">==</span> <span class="st">"Red"</span>,Year <span class="sc">==</span> <span class="dv">2100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Percentile,<span class="at">y=</span>prediction)) <span class="sc">+</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill=</span><span class="st">"firebrick"</span>)<span class="sc">+</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Percentile"</span>,<span class="at">y=</span><span class="st">"GMSL Rise (cm)"</span>,<span class="at">caption=</span><span class="st">"Red 2100"</span>)<span class="sc">+</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="sc">-</span><span class="dv">200</span>,<span class="dv">600</span>)<span class="sc">+</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="4-sampling_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Participants were asked to estimate likely (17th to 83rd percentiles) and very likely (5th to 95th percentiles) sea-level rise under a high emission temperature scenarios for 2100.</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="snowball-sampling" class="level3">
<h3 class="anchored" data-anchor-id="snowball-sampling">Snowball Sampling</h3>
<p>Snowball sampling is a non-random sampling technique where existing participants help recruit new participants, forming a growing “snowball” effect.</p>
<ul>
<li><p>✅ Useful for hard-to-reach populations</p></li>
<li><p>❌ Relies on social networks, which can lead to bias since participants are likely to refer similar individuals.</p></li>
</ul>
<section id="example-global-survey-shows-planners-use-widely-varying-sea-level-rise-projections-for-coastal-adaptation" class="level4">
<h4 class="anchored" data-anchor-id="example-global-survey-shows-planners-use-widely-varying-sea-level-rise-projections-for-coastal-adaptation"><strong>Example: Global survey shows planners use widely varying sea-level rise projections for coastal adaptation</strong></h4>
<ul>
<li><p>Collaborating researchers known to be involved in sea level rise planning were contacted, sometimes targeting specific regions and cities.</p></li>
<li><p>Regional leads sent emails to their contact lists.</p></li>
</ul>
<p>More details for this snowball sampling method can be found <a href="https://www.nature.com/articles/s43247-023-00703-x#Sec7">here</a>.</p>
</section>
<section id="analysis-1" class="level4">
<h4 class="anchored" data-anchor-id="analysis-1"><strong>Analysis</strong></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>sl_planning_dat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 21 × 4
   Continent relative     n group
   &lt;fct&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;
 1 Asia          9.09     1 B    
 2 Europe        5        1 D    
 3 Oceania       3.57     1 B    
 4 Africa       33.3      2 C    
 5 Asia         18.2      2 C    
 6 Oceania       7.14     2 C    
 7 Oceania      10.7      3 D    
 8 Africa       66.7      4 A    
 9 Europe       20        4 C    
10 Europe       25        5 B    
# ℹ 11 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="do">## create barplot with % in each category </span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="do">## The colour palette</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>cbPalette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#E69F00"</span>,<span class="st">"#009E73"</span>,<span class="st">"#999999"</span>,<span class="st">"#56B4E9"</span>, <span class="st">"#F0E442"</span>, <span class="st">"#0072B2"</span>, <span class="st">"#D55E00"</span>, <span class="st">"#CC79A7"</span>)</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="do">## The plot</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sl_planning_dat, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_rev</span>(Continent),<span class="at">y =</span> relative, <span class="at">fill =</span> group)) <span class="sc">+</span> </span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>)<span class="sc">+</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> Continent, <span class="at">label =</span> <span class="fu">paste0</span>(<span class="fu">round</span>(relative,<span class="dv">1</span>),<span class="st">'% </span><span class="sc">\n</span><span class="st"> ('</span>,n,<span class="st">')'</span>)),</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">colour =</span> <span class="st">'white'</span>, <span class="at">position=</span><span class="fu">position_stack</span>(<span class="at">vjust=</span><span class="fl">0.5</span>), <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">''</span>)<span class="sc">+</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Percentage (Count)"</span>)<span class="sc">+</span></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>)<span class="sc">+</span></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Structure"</span>) <span class="sc">+</span></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>() <span class="sc">+</span></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">12</span>),</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x=</span><span class="fu">element_blank</span>(),</span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.x=</span><span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values=</span>cbPalette) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="4-sampling_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Respondents formally structure the use of sea-level rise projections for planning purposes in four ways: A is a singular estimate, B is a low and a high estimate, C is a low, intermediate, and high estimate, and D is a low, intermediate, high, and high-end estimate. Shown are aggregated responses for five distinct geographical regions and the globe.</figcaption>
</figure>
</div>
</div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
          // default icon
          link.classList.add("external");
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>